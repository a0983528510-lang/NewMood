/* =========================
   字體（可選：若你自架 NaniHand，放開這段並調整路徑）
   ========================= */
/*
@font-face{
  font-family: 'NaniHand';
  src: url('/static/fonts/NaniFont-semiBold.woff2') format('woff2');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}
*/

/* =========================
   基礎
   ========================= */
:root {
  --ink: #0a0a0a;
  --yellow: #ffd21c;
  --yellow2: #fff200;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, sans-serif;
  color: var(--ink);
  background: #7fd1eb; /* 測試背景；要用磚牆可改成：url('/static/img/brick.jpg') center/cover fixed */
}

/* =========================
   版面容器（沿用你的結構）
   ========================= */
.container { max-width: 900px; margin: 24px auto; padding: 0 12px; }
.sticky-wrap { display:flex; justify-content:center; }
.sticky { width:100%; max-width:760px; padding:16px; border:3px solid var(--ink); border-radius:14px; background:#fff; box-shadow:6px 6px 0 var(--ink); }
.sticky.yellow { background:#fff9b1; }
.sticky.blue { background:#cfe8ff; }
.btn { display:inline-block; padding:8px 12px; border:2px solid var(--ink); border-radius:10px; background:#fff; cursor:pointer; }
label { display:block; margin-top:8px; }
input[type=text], input[type=url], textarea { width:100%; padding:8px; border:2px solid var(--ink); border-radius:8px; background:#fff; }
textarea { resize:vertical; }
.draw-area { display:flex; justify-content:center; margin-top:12px; }

/* =========================
   照片版 Polaroid
   ========================= */
/* 舞台 */
.polaroid-stage{ display:flex; justify-content:center; align-items:center; margin:36px 0 20px; }
.polaroid-container{ width: 302px; }

/* 卡片（無中間夾層） */
.polaroid{
  width: 302px;               /* 依最終貼合尺寸 */
  aspect-ratio: 302 / 430;    /* 與設計圖相同比例 */
  position: relative;
  transform-style: preserve-3d;
  transition: transform .6s ease;
  cursor: pointer;
}
.polaroid.flip { transform: rotateY(180deg); }

/* 正反兩面直接用整張圖 */
.face{
  position:absolute; inset:0; backface-visibility:hidden;
  background-size: cover; background-position: center;
  border-radius: 10px;
  border: 3px solid var(--ink);
  box-shadow: 0 8px 0 var(--ink);
}
.face.front { background-image: url('/static/img/front.png'); transform: rotateY(180deg); }
.face.back  { background-image: url('/static/img/back.png'); }

/* 縮圖窗（綠色區域對位） */
.window{
  position: absolute;
  left: 8.5%;
  right: 8.5%;
  top: 3.75%;
  aspect-ratio: 1 / 1; /* 正方形 */
  overflow: hidden;
  border-radius: 6px;

  /* 同時支援 background 當縮圖（雙保險） */
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;

  /* 你的陰影 */
  box-shadow: rgba(50, 50, 93, 0.25) 0px 2px 5px -1px,
              rgba(0, 0, 0, 0.3) 0px 1px 3px -1px;
}
.window img{
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
}

/* 歌名 — 歌手（覆蓋在卡面上） */
.song-line{
  position: absolute;
  right: 6%;
  top: 7.5%;
  max-width: 72%;
  transform: rotate(-10deg);
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  text-shadow: -2px 2px 0 var(--ink), 2px 2px 0 var(--ink);
  pointer-events: none; user-select: none;
}
.song-line .zh{
  font-family: 'NaniHand', 'Noto Sans TC', 'Microsoft JhengHei', system-ui, sans-serif;
  color: var(--yellow);
  font-weight: 700;
  font-size: 18px;
  letter-spacing: .3px;
}
.song-line .en{
  font-family: 'Knewave', cursive;
  color: var(--yellow2);
  font-weight: 700;
  font-size: 18px;
}

/* =========================
   測試控制列（存在就美化；沒有也不影響）
   ========================= */
.controls{
  display:flex; gap:8px; justify-content:center; padding:16px;
  background:#fff; border-top:1px solid #e5e5e5;
}
.controls input{
  width:min(680px, 80vw);
  padding:10px 12px; border:2px solid var(--ink); border-radius:10px;
}
.controls button{
  padding:10px 14px; border:2px solid var(--ink); border-radius:10px;
  background:var(--yellow); font-weight:700; cursor:pointer;
}

/* =========================
   RWD 微調
   ========================= */
@media (max-width: 380px){
  .polaroid-container, .polaroid { width: 86vw; }
  .song-line .zh, .song-line .en { font-size: 16px; }
}
